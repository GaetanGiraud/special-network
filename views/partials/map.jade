h4 Click to add a marker!

p 
  |{{zoomMessage}}
ul
  li(ng-repeat="marker in myMarkers")
    a(ng-click="myMap.panTo(marker.getPosition())", class="btn") Pan to Marker {{$index}}
    //button(ng-click="deleteMarker(marker)", ui-event="") Delete
 
// 
  this is the confusing part. we have to point the map marker directive
   at an existing google.maps.Marker object, so it can hook up events
   
div(ng-repeat="location in locations", ui-map-marker="location.marker", ui-event="{'map-click': 'openMarkerInfo(location)'}")

div(ui-map-info-window="userWindow")
  h2 Welcome {{currentUser.name}}
  img(ng-src="uploads/{{currentUser._id }}/thumbnail/{{currentUser.picture || 'user-default.png'}}")
  br
  a(ng-click="deleteLocation(currentLocation)") Delete

div(ui-map-info-window="myInfoWindow2")
  h2 Welcome to this alternative window
  img(ng-src="uploads/{{currentUser._id }}/thumbnail/{{currentUser.picture || 'user-default.png'}}")
  br
 // a(ng-click="deleteMarker(currentMarker)") Delete


// 
  Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting
  google maps



div(id="map_canvas", ui-map="myMap", class="map", ui-event="{'map-click': 'addMarker($event)', 'map-zoom_changed': 'setZoomMessage(myMap.getZoom())' }", ui-options="mapOptions")


 
